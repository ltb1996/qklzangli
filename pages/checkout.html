<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>订单结算 - 香格里拉藏梨溯源商城</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <!-- 导航栏 -->
  <nav class="navbar">
    <div class="container navbar-container">
      <a href="home.html" class="navbar-logo">藏梨溯源</a>
      <div class="navbar-links">
        <a href="home.html" class="navbar-link">首页</a>
        <a href="products.html" class="navbar-link">产品展示</a>
        <a href="blockchain-trace.html" class="navbar-link">溯源系统</a>
        <a href="about.html" class="navbar-link">关于我们</a>
      </div>
      <div class="navbar-actions">
        <a href="cart.html" class="navbar-link"><i class="ri-shopping-cart-2-line"></i> 购物车</a>
        <a href="wallet.html" class="navbar-link"><i class="ri-wallet-3-line"></i> 我的钱包</a>
        <a href="user.html" class="navbar-link"><i class="ri-user-3-line"></i> 个人中心</a>
      </div>
    </div>
  </nav>

  <!-- 结算流程指示器 -->
  <div class="container mt-4">
    <div class="row justify-content-center">
      <div class="col-md-10">
        <div class="d-flex justify-content-between position-relative mb-5">
          <!-- 连接线 -->
          <div class="position-absolute" style="height: 2px; background-color: var(--gray-light); top: 25px; left: 15%; right: 15%; z-index: 0;"></div>
          
          <!-- 步骤1：购物车 -->
          <div class="d-flex flex-column align-items-center position-relative" style="z-index: 1;">
            <div class="bg-white d-flex align-items-center justify-content-center rounded-circle" style="width: 50px; height: 50px; border: 2px solid var(--primary-color);">
              <i class="ri-shopping-cart-2-line text-primary"></i>
            </div>
            <span class="mt-2 text-primary">购物车</span>
          </div>
          
          <!-- 步骤2：订单确认 -->
          <div class="d-flex flex-column align-items-center position-relative" style="z-index: 1;">
            <div class="bg-primary d-flex align-items-center justify-content-center rounded-circle" style="width: 50px; height: 50px; border: 2px solid var(--primary-color);">
              <i class="ri-file-list-3-line text-white"></i>
            </div>
            <span class="mt-2 text-primary fw-bold">订单确认</span>
          </div>
          
          <!-- 步骤3：支付 -->
          <div class="d-flex flex-column align-items-center position-relative" style="z-index: 1;">
            <div class="bg-white d-flex align-items-center justify-content-center rounded-circle" style="width: 50px; height: 50px; border: 2px solid var(--gray-light);">
              <i class="ri-secure-payment-line text-muted"></i>
            </div>
            <span class="mt-2 text-muted">支付</span>
          </div>
          
          <!-- 步骤4：完成 -->
          <div class="d-flex flex-column align-items-center position-relative" style="z-index: 1;">
            <div class="bg-white d-flex align-items-center justify-content-center rounded-circle" style="width: 50px; height: 50px; border: 2px solid var(--gray-light);">
              <i class="ri-checkbox-circle-line text-muted"></i>
            </div>
            <span class="mt-2 text-muted">完成</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 结算内容 -->
  <div class="container mb-5">
    <div class="row">
      <!-- 左侧：收货地址和支付方式 -->
      <div class="col-lg-8">
        <!-- 收货地址 -->
        <div class="card mb-4">
          <div class="card-body p-4">
            <h3 class="fw-bold mb-4">收货地址</h3>
            
            <!-- 已有地址选择 -->
            <div class="mb-4">
              <h5 class="mb-3">选择收货地址</h5>
              
              <!-- 地址卡片1（已选中） -->
              <div class="card mb-3 border border-primary">
                <div class="card-body p-3">
                  <div class="row align-items-center">
                    <div class="col-md-1">
                      <div class="form-check mb-0">
                        <input class="form-check-input" type="radio" name="addressOption" id="address1" checked>
                        <label class="form-check-label" for="address1"></label>
                      </div>
                    </div>
                    <div class="col-md-9">
                      <h6 class="mb-1">王小明 (默认)</h6>
                      <p class="mb-1 small">13800138000</p>
                      <p class="mb-0 small text-muted">云南省迪庆藏族自治州香格里拉市中心广场附近香格里拉小区3栋2单元501室</p>
                    </div>
                    <div class="col-md-2 text-end">
                      <a href="#" class="btn btn-sm btn-outline-primary mb-2">编辑</a>
                      <a href="#" class="btn btn-sm btn-outline-danger">删除</a>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- 地址卡片2 -->
              <div class="card mb-3">
                <div class="card-body p-3">
                  <div class="row align-items-center">
                    <div class="col-md-1">
                      <div class="form-check mb-0">
                        <input class="form-check-input" type="radio" name="addressOption" id="address2">
                        <label class="form-check-label" for="address2"></label>
                      </div>
                    </div>
                    <div class="col-md-9">
                      <h6 class="mb-1">李小红</h6>
                      <p class="mb-1 small">13900139000</p>
                      <p class="mb-0 small text-muted">北京市朝阳区建国路88号现代城5号楼1单元1801室</p>
                    </div>
                    <div class="col-md-2 text-end">
                      <a href="#" class="btn btn-sm btn-outline-primary mb-2">编辑</a>
                      <a href="#" class="btn btn-sm btn-outline-danger">删除</a>
                    </div>
                  </div>
                </div>
              </div>
              
              <button class="btn btn-outline-primary">
                <i class="ri-add-line me-1"></i> 添加新地址
              </button>
            </div>
          </div>
        </div>
        
        <!-- 配送方式 -->
        <div class="card mb-4">
          <div class="card-body p-4">
            <h3 class="fw-bold mb-4">配送方式</h3>
            
            <div class="row">
              <div class="col-md-4 mb-3">
                <div class="card border-primary h-100">
                  <div class="card-body p-3">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="deliveryOption" id="standardDelivery" checked>
                      <label class="form-check-label" for="standardDelivery">
                        <h6 class="mb-1">标准配送</h6>
                        <p class="small text-muted mb-0">3-5个工作日送达</p>
                        <p class="text-primary fw-bold mb-0">¥20.00</p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="col-md-4 mb-3">
                <div class="card h-100">
                  <div class="card-body p-3">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="deliveryOption" id="expressDelivery">
                      <label class="form-check-label" for="expressDelivery">
                        <h6 class="mb-1">快速配送</h6>
                        <p class="small text-muted mb-0">1-2个工作日送达</p>
                        <p class="text-primary fw-bold mb-0">¥35.00</p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="col-md-4 mb-3">
                <div class="card h-100">
                  <div class="card-body p-3">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="deliveryOption" id="sameDay">
                      <label class="form-check-label" for="sameDay">
                        <h6 class="mb-1">加急配送</h6>
                        <p class="small text-muted mb-0">部分城市当天送达</p>
                        <p class="text-primary fw-bold mb-0">¥50.00</p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 支付方式 -->
        <div class="card mb-4">
          <div class="card-body p-4">
            <h3 class="fw-bold mb-4">支付方式</h3>
            
            <div class="row">
              <div class="col-md-4 mb-3">
                <div class="card border-primary h-100">
                  <div class="card-body p-3">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="paymentMethod" id="zltToken" checked>
                      <label class="form-check-label" for="zltToken">
                        <div class="d-flex align-items-center mb-2">
                          <i class="ri-coins-line text-primary me-2" style="font-size: 24px;"></i>
                          <h6 class="m-0">ZLT代币支付</h6>
                        </div>
                        <p class="small text-muted mb-1">使用平台代币支付</p>
                        <p class="small text-success mb-0">区块链支付，零手续费</p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="col-md-4 mb-3">
                <div class="card h-100">
                  <div class="card-body p-3">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="paymentMethod" id="ethPay">
                      <label class="form-check-label" for="ethPay">
                        <div class="d-flex align-items-center mb-2">
                          <i class="ri-ethereum-line text-primary me-2" style="font-size: 24px;"></i>
                          <h6 class="m-0">ETH支付</h6>
                        </div>
                        <p class="small text-muted mb-1">使用以太坊支付</p>
                        <p class="small text-warning mb-0">需支付Gas费用</p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="col-md-4 mb-3">
                <div class="card h-100">
                  <div class="card-body p-3">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="paymentMethod" id="alipayPay">
                      <label class="form-check-label" for="alipayPay">
                        <div class="d-flex align-items-center mb-2">
                          <i class="ri-alipay-line text-primary me-2" style="font-size: 24px;"></i>
                          <h6 class="m-0">支付宝支付</h6>
                        </div>
                        <p class="small text-muted mb-1">使用支付宝支付</p>
                        <p class="small text-info mb-0">便捷支付，实时到账</p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="alert alert-info mt-3" role="alert">
              <div class="d-flex align-items-center">
                <i class="ri-information-line me-2" style="font-size: 24px;"></i>
                <div>
                  <h6 class="alert-heading m-0">区块链支付提示</h6>
                  <p class="mb-0 small">使用ZLT代币或ETH支付时，交易将记录在区块链上，保证透明度和安全性。</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 发票信息 -->
        <div class="card mb-4">
          <div class="card-body p-4">
            <h3 class="fw-bold mb-4">发票信息</h3>
            
            <div class="form-check mb-3">
              <input class="form-check-input" type="radio" name="invoiceOption" id="noInvoice" checked>
              <label class="form-check-label" for="noInvoice">
                不需要发票
              </label>
            </div>
            
            <div class="form-check mb-3">
              <input class="form-check-input" type="radio" name="invoiceOption" id="personalInvoice">
              <label class="form-check-label" for="personalInvoice">
                个人发票
              </label>
            </div>
            
            <div class="form-check">
              <input class="form-check-input" type="radio" name="invoiceOption" id="companyInvoice">
              <label class="form-check-label" for="companyInvoice">
                公司发票
              </label>
            </div>
            
            <div class="collapse mt-3" id="invoiceDetails">
              <div class="card card-body">
                <div class="mb-3">
                  <label for="invoiceTitle" class="form-label">发票抬头</label>
                  <input type="text" class="form-control" id="invoiceTitle" placeholder="请输入发票抬头">
                </div>
                <div class="mb-3">
                  <label for="taxNumber" class="form-label">税号</label>
                  <input type="text" class="form-control" id="taxNumber" placeholder="请输入纳税人识别号">
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 订单备注 -->
        <div class="card mb-4">
          <div class="card-body p-4">
            <h3 class="fw-bold mb-4">订单备注</h3>
            <textarea class="form-control" rows="3" placeholder="有什么特殊要求可以在这里告诉我们（选填）"></textarea>
          </div>
        </div>
      </div>
      
      <!-- 右侧：订单摘要 -->
      <div class="col-lg-4">
        <div class="card mb-4 sticky-top" style="top: 20px; z-index: 100;">
          <div class="card-body p-4">
            <h3 class="fw-bold mb-4">订单摘要</h3>
            
            <!-- 商品列表 -->
            <div class="mb-4">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h6 class="m-0">商品信息</h6>
                <a href="cart.html" class="small text-decoration-none">修改</a>
              </div>
              
              <div class="card bg-light">
                <div class="card-body p-3">
                  <!-- 商品1 -->
                  <div class="d-flex mb-3">
                    <img src="../img/藏梨冻礼盒.jpg" class="rounded" width="50" height="50" style="object-fit: cover;" alt="有机藏梨礼盒装">
                    <div class="ms-3">
                      <h6 class="mb-0 small">藏梨冻礼盒装</h6>
                      <div class="d-flex justify-content-between">
                        <small class="text-muted">¥128.00 × 1</small>
                        <small class="text-primary fw-bold">¥128.00</small>
                      </div>
                    </div>
                  </div>
                  
                  <!-- 商品2 -->
                  <div class="d-flex mb-3">
                    <img src="../img/藏梨糕散装.jpg" class="rounded" width="50" height="50" style="object-fit: cover;" alt="藏梨干">
                    <div class="ms-3">
                      <h6 class="mb-0 small">藏梨糕散装</h6>
                      <div class="d-flex justify-content-between">
                        <small class="text-muted">¥32.00 × 2</small>
                        <small class="text-primary fw-bold">¥64.00</small>
                      </div>
                    </div>
                  </div>
                  
                  <!-- 商品3 -->
                  <div class="d-flex">
                    <img src="../img/藏梨膏礼盒.jpg" class="rounded" width="50" height="50" style="object-fit: cover;" alt="藏梨果酒">
                    <div class="ms-3">
                      <h6 class="mb-0 small">藏梨膏礼盒</h6>
                      <div class="d-flex justify-content-between">
                        <small class="text-muted">¥108.00 × 1</small>
                        <small class="text-primary fw-bold">¥108.00</small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 费用明细 -->
            <div class="mb-3">
              <div class="d-flex justify-content-between mb-2">
                <span>商品小计</span>
                <span class="fw-bold">¥300.00</span>
              </div>
              
              <div class="d-flex justify-content-between mb-2">
                <span>运费</span>
                <span class="fw-bold">¥20.00</span>
              </div>
              
              <div class="d-flex justify-content-between mb-2">
                <span>区块链交易费</span>
                <span class="fw-bold text-primary">¥0.00</span>
              </div>
              
              <hr>
              
              <div class="d-flex justify-content-between align-items-center mb-4">
                <span class="fw-bold">总计</span>
                <span class="fw-bold text-primary fs-4">¥320.00</span>
              </div>
              
              <div class="mb-4">
                <div class="blockchain-badge w-100 text-center py-2">
                  <i class="ri-shield-check-line me-1"></i> 区块链保障，全程可追溯
                </div>
              </div>
              
              <div class="d-grid">
                <button type="button" class="btn btn-primary btn-lg py-3" data-bs-toggle="modal" data-bs-target="#paymentModal">
                  <i class="ri-secure-payment-line me-2"></i> 确认订单并支付
                </button>
              </div>
              
              <div class="form-check mt-3">
                <input class="form-check-input" type="checkbox" id="termsCheck" checked>
                <label class="form-check-label small" for="termsCheck">
                  我已阅读并同意<a href="#" class="text-decoration-none">《服务条款》</a>和<a href="#" class="text-decoration-none">《隐私政策》</a>
                </label>
              </div>
            </div>
            
            <!-- 客户服务 -->
            <div class="mt-4">
              <p class="small text-muted mb-1">有疑问？联系客服</p>
              <a href="tel:4001234567" class="small text-decoration-none">
                <i class="ri-customer-service-line me-1"></i> 400-123-4567
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 支付确认弹窗 -->
  <div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="paymentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="paymentModalLabel">确认支付</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="text-center mb-4">
            
            <h4 class="mt-3 mb-0">订单金额：¥320.00</h4>
            <p class="text-muted small">使用ZLT代币支付</p>
          </div>
          
          <div class="alert alert-info d-flex align-items-center" role="alert">
            <i class="ri-information-line me-2" style="font-size: 24px;"></i>
            <div>
              <p class="mb-0 small">确认支付后，系统将连接您的区块链钱包完成支付。支付成功后，交易将被记录在区块链上，确保交易的透明性和安全性。</p>
            </div>
          </div>
          
          <div class="form-floating mb-3">
            <input type="password" class="form-control" id="paymentPassword" placeholder="支付密码">
            <label for="paymentPassword">请输入支付密码</label>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">取消</button>
          <a href="payment-success.html" class="btn btn-primary">确认支付</a>
        </div>
      </div>
    </div>
  </div>

  <!-- 页脚 -->
  <footer class="footer">
    <div class="container footer-container">
      <div class="footer-section">
        <h3>藏梨溯源</h3>
        <p>致力于通过区块链技术，为每一位消费者提供真实、透明的香格里拉特产藏梨。</p>
        <div class="mt-3">
          <a href="#" class="text-white me-3"><i class="ri-wechat-line"></i></a>
          <a href="#" class="text-white me-3"><i class="ri-weibo-line"></i></a>
          <a href="#" class="text-white me-3"><i class="ri-instagram-line"></i></a>
          <a href="#" class="text-white"><i class="ri-twitter-x-line"></i></a>
        </div>
      </div>
      
      <div class="footer-section">
        <h3>快速链接</h3>
        <ul class="footer-links">
          <li><a href="home.html">首页</a></li>
          <li><a href="products.html">产品展示</a></li>
          <li><a href="blockchain-trace.html">溯源系统</a></li>
          <li><a href="about.html">关于我们</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>客户服务</h3>
        <ul class="footer-links">
          <li><a href="#">购买指南</a></li>
          <li><a href="#">配送方式</a></li>
          <li><a href="#">支付方式</a></li>
          <li><a href="#">售后服务</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>联系我们</h3>
        <ul class="footer-links">
          <li><i class="ri-map-pin-line me-2"></i> 云南省迪庆自治州香格里拉市</li>
          <li><i class="ri-phone-line me-2"></i> 400-123-4567</li>
          <li><i class="ri-mail-line me-2"></i> contact@zanglitrace.com</li>
        </ul>
      </div>
    </div>
    
    <div class="container">
      <div class="copyright">
        <p>© 2023 藏梨溯源 版权所有 | 基于区块链技术的溯源平台</p>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 